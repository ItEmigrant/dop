<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>JS lesson 6</title>
</head>
<script>
    const students = [
        {
            name: "Bob",
            age: 22,
            isMarried: true,
            scores: 85,
        },
        {
            name: "Alex",
            age: 21,
            isMarried: true,
            scores: 90,
        },
        {
            name: "Nick",
            age: 20,
            isMarried: false,
            scores: 120,
        },
        {
            name: "John",
            age: 19,
            isMarried: false,
            scores: 100,
        },
        {
            name: "Helen",
            age: 20,
            isMarried: false,
            scores: 110,
        },
        {
            name: "Ann",
            age: 20,
            isMarried: false,
            scores: 105,
        },
    ];

    const user = {
        name: "Bob",
        age: 23,
        isMarried: false,
        friends: ["Alex", "Nick", "John"],
    };

    const copyUser = {...user};
    console.log(user === copyUser);
    console.log(user.friends === copyUser.friends);

    /*  const deepCopyUser1 = JSON.parse(JSON.stringify(user));*/
    const deepCopyUser = {
        ...user,
        friends: [...user.friends]
    }
    console.log(user === deepCopyUser);
    console.log(user.friends === deepCopyUser.friends);

    const copyStudents = [...students]
    console.log(copyStudents)
    console.log(students === copyStudents)
    console.log(students[1] === copyStudents[1])

    deepCopyStudents = students.map(s => {
            return {...s}
        }
    )
    console.log(deepCopyStudents)
    console.log(students === deepCopyStudents)
    console.log(students[2] === deepCopyStudents[2]);

    const sortStudents = [...deepCopyStudents].sort((a, b) => a.name > b.name ? 1 : -1)

    console.log(sortStudents)

    const sortStudentsScores = [...deepCopyStudents].sort((a, b) => a.scores < b.scores ? 1 : -1);
    console.log(sortStudentsScores)

    const filterStudentsScores = deepCopyStudents.filter(s => s.scores >= 100)
    console.log(filterStudentsScores)

    const spliceStudentsScores = [...deepCopyStudents].sort((a, b) => a.scores < b.scores ? 1 : -1).splice(0, 3)
    console.log(spliceStudentsScores)

    const unitedStudents = [...spliceStudentsScores, ...deepCopyStudents].sort((a, b) => b.scores - a.scores);
    console.log(unitedStudents)

    const notMarriedStudents = deepCopyStudents.filter(s => !s.isMarried)
    console.log(notMarriedStudents)

    const onlyNameStudents = deepCopyStudents.map(s => s.name)
    console.log(onlyNameStudents)

    const onlyNameStudentsString = deepCopyStudents.map(s => s.name).join(', ')
    console.log(onlyNameStudentsString)

    const isStudentsForStudents = deepCopyStudents.map(s => ({...s, isStudent: true}))
    console.log(isStudentsForStudents)

    const nickIsMarried = deepCopyStudents.map(s => s.name === "Nick" ? {...s, isMarried: true} : s)
    console.log(nickIsMarried)

    const findAnn = deepCopyStudents.find(el => el.name === "Ann")
    console.log(findAnn)

    const bestStudentReduce = students.reduce((acc, cur) => acc.scores > cur.scores ? acc : cur)
    console.log(bestStudentReduce);

    const sumStudentsScore = students.reduce((acc, cur) => acc + cur.scores, 0)
    console.log(sumStudentsScore)

    /* const addFriendsForStudent = students.map(s=> (
         {...s, friends:
                 students.map(n=>n.name).filter(f => f !== s.name)}
     ))
     console.log(addFriendsForStudent)*/

  const addFriends = students
        .map(s => {
            const stNames = students.map(n => n.name);
            const filterFriends = stNames.filter(f => f !== s.name);

            return {
                ...s,  friends: filterFriends
            }
        }
    )
    console.log(addFriends)

   /* for (let i=0; i<students.length; i++) {
        students[i]['friends'] = [];
        for (let j=0; j<students.length; j++) {
            if(students[i].name !== students[j].name) {
                students[i]['friends'].push(students[j].name)

            }
        }
    }
*/



</script>
<style>
    body {
        background-color: #d8c4ba;
    }
</style>
<body>

<h2>JS LESSON 6</h2>
</body>
</html>